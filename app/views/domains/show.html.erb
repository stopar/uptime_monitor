<h1>Uptime for <%= @domain.name %></h1>
<p>Latest uptime on top of the table</p>

<%= turbo_stream_from dom_id(@domain) %>

<div id="flash" class="flash">
  <%= render "layouts/flash" %>
</div>

<div id="monitoring" class="text-center">
	<%= render partial: "domains/monitoring", locals: { domain: @domain } %>
</div>

<table class="table table-striped table-light">
  <thead>
    <tr>
      <th>Domain</th>
      <th>Sent at</th>
      <th class="text-center">Response time (ms)</th>
      <th class="text-center">Status</th>
    </tr>
  </thead>
  <tbody id="pings">
    <% if @domain_pings.present? %>
      <% @domain_pings.each do |ping| %>
        <%= render partial: "pings/ping", locals: { ping: ping, domain: @domain } %>
      <% end %>
    <% end %>
  </tbody>
</table>
